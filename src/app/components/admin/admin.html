<div class="container">
  <div class="header">
    <h1>👥 Painel Administrativo</h1>
    <!-- Updated description to reflect authentication -->
    <p>Total de usuários: {{ usuariosFiltrados.length }} | Acesso restrito a usuários autenticados</p>
  </div>

  <!-- Added authentication status -->
  <div class="auth-info" *ngIf="currentUser">
    <div class="admin-badge">
      <span class="badge-icon">🔐</span>
      <span>Administrador: {{ currentUser.email }}</span>
    </div>
  </div>

  <!-- Added filter section with search and age filters -->
  <div class="filters-section">
    <h3>🔍 Filtros</h3>
    
    <div class="filter-row">
      <div class="filter-group">
        <label>Nome:</label>
        <input 
          type="text" 
          placeholder="Buscar por nome..." 
          [(ngModel)]="filtroNome" 
          (input)="filtrarUsuarios()"
          class="filter-input"
        />
      </div>
      
      <div class="filter-group">
        <label>Idade mínima:</label>
        <input 
          type="number" 
          placeholder="Min" 
          [(ngModel)]="filtroIdadeMin" 
          (input)="filtrarUsuarios()"
          class="filter-input age-input"
        />
      </div>
      
      <div class="filter-group">
        <label>Idade máxima:</label>
        <input 
          type="number" 
          placeholder="Max" 
          [(ngModel)]="filtroIdadeMax" 
          (input)="filtrarUsuarios()"
          class="filter-input age-input"
        />
      </div>
    </div>

    <div class="filter-actions">
      <button (click)="limparFiltros()" class="btn-clear">
        🗑️ Limpar Filtros
      </button>
      <button (click)="atualizarLista()" class="btn-refresh">
        🔄 Atualizar Lista
      </button>
    </div>
  </div>

  <!-- Improved user list display with better styling -->
  <div class="users-section">
    <div *ngIf="usuariosFiltrados.length === 0" class="no-users">
      <p>📭 Nenhum usuário encontrado com os filtros aplicados.</p>
    </div>

    <div *ngIf="usuariosFiltrados.length > 0" class="users-grid">
      <div *ngFor="let usuario of usuariosFiltrados; let i = index" class="user-card">
        <div class="user-info">
          <div class="user-name">{{ usuario.nome }}</div>
          <div class="user-age">{{ usuario.idade }} anos</div>
          <!-- Added information about who created the user -->
          <div class="user-creator" *ngIf="usuario.createdBy">
            <small>Cadastrado por: {{ usuario.createdBy }}</small>
          </div>
        </div>
        <div class="user-actions">
          <div class="user-number">#{{ i + 1 }}</div>
          <!-- Added delete button -->
          <button 
            (click)="deletarUsuario(usuario.id)" 
            class="delete-btn"
            title="Deletar usuário"
          >
            🗑️
          </button>
        </div>
      </div>
    </div>
  </div>
<div class="ano-navigation" style="display:flex; justify-content:center; align-items:center; margin-bottom:10px;">
  <button (click)="anoAnterior()">⬅️ Ano Anterior</button>
  <span style="margin: 0 15px; font-weight:bold;">{{ anoAtual }}</span>
  <button (click)="proximoAno()">Ano Seguinte ➡️</button>
</div>

<div style="display: block; width: 600px; margin: auto;">
  <canvas baseChart 
          [data]="chartData" 
          [options]="chartOptions" 
          [type]="'bar'">
  </canvas>
</div>

</div>
